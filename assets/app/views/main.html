<div ng-controller="MainCtrl as ctrl">
  <ul class="nav nav-tabs">
    <li ng-class="ctrl.tabClass('USDT')"><a href="#" ui-sref="main({code: 'USDT'})">USDT</a></li>
    <li ng-class="ctrl.tabClass('BTC')"><a href="#" ui-sref="main({code: 'BTC'})">BTC</a></li>
    <li ng-class="ctrl.tabClass('ETH')"><a href="#" ui-sref="main({code: 'ETH'})">ETH</a></li>
  </ul>
  <div class="row">
    <div class="col-sm-12">
      <div style="margin: 40px 50%" ng-show="!ctrl.rates">
        <img src="/CryptoCurrency/assets/ajax-loader.gif" style="margin-left: -64px"/>
      </div>
      <div ng-show="ctrl.rates.length">
        <div style="margin: 10px 0">
          Estimated Value: 1000 {{ ctrl.baseCode }}
        </div>
        <table class="table table-striped table-rates">
          <tbody>
            <tr ng-repeat="rate in ctrl.rates" style="height:50px">
              <td width="35">
                <img width="24" ng-src="{{ ctrl.logos[rate.code] }}" />
              </td>
              <td width="100" style="overflow:hidden">
                {{ rate.code }}
                <div class="gray">{{ rate.name }}</div>
              </td>
              <td width="150" style="white-space:nowrap" ng-init="val=ctrl.valGet(rate.code, rate.code)">
                <span class="gray">{{ ctrl.baseSymbol }}</span> {{ rate[ctrl.baseCode] || '?' }}
                <div class="gray" ng-hide="show" ng-click="show=1">Value: {{ ctrl.valGet(rate.code, ctrl.baseCode) || 'Click & Type' }}</div>
                <div ng-show="show">
                  <div class="input-group input-group-sm">
                    <input ng-model="val" class="form-control" focus="true" />
                    <div class="input-group-append">
                      <button ng-click="ctrl.valSet(rate, val); show=0" class="btn btn-sm btn-info">Save</button>
                      <button ng-click="show=0" class="btn btn-sm btn-warning">Cancel</button>
                    </div>
                  </div>
                </div>
              </td>
              <td width="40">
                <a href="#" ng-click="ctrl.favClick(rate.code)" onclick="return false">
                  <i class="glyphicon" ng-class="ctrl.favClass(rate.code)" style="font-size:24px" />
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
